!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var s,o;void 0===(o="function"==typeof(s=function(){return function(e){function t(){var e=document.documentElement.clientHeight,t=window.innerHeight||0;k=Math.max(e,t)}function n(){w=!1;var e=function(){if(p&&"number"==typeof p){var e=Math.min(Math.max(0,p),1);return k-e*k}return k}();(x=x.filter((function(t){var n=t.getBoundingClientRect(),s=n.top,o=n.bottom,i=n.height,l=s<e,r=o<e;if(l&&!t.__ev_entered){if(a(t),t.__ev_progress=0,b(t,t.__ev_progress),m)return!1}else!l&&t.__ev_entered&&(t.__ev_progress=0,b(t,t.__ev_progress),f(t));if(l&&!r){var c=(e-s)/i;t.__ev_progress=Math.min(1,Math.max(0,c)),b(t,t.__ev_progress)}return l&&r&&1!==t.__ev_progress&&(t.__ev_progress=1,b(t,t.__ev_progress)),t.__ev_entered=l,!0}))).length||window.removeEventListener("scroll",s,!0)}function s(){w||(w=!0,v(n))}function o(){t(),n()}function i(){t(),n()}function l(e){for(var t=e.length,n=[],s=0;s<t;s+=1)n.push(e[s]);return n}function r(){x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?l(t.querySelectorAll(e)):e instanceof NodeList?l(e):e instanceof Array?e:void 0}(c)}var c=e.selector,d=e.enter,a=void 0===d?function(){}:d,u=e.exit,f=void 0===u?function(){}:u,y=e.progress,b=void 0===y?function(){}:y,g=e.offset,p=void 0===g?0:g,h=e.once,m=void 0!==h&&h,v=null,w=!1,x=[],k=0;c?(r(),x&&x.length?(v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},window.addEventListener("resize",o,!0),window.addEventListener("scroll",s,!0),window.addEventListener("load",i,!0),o(),n()):console.error("no selector elements found")):console.error("must pass a selector")}})?s.call(t,n,t,e):s)||(e.exports=o)},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,l=parseInt,r="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,d=r||c||Function("return this")(),a=Object.prototype.toString,u=Math.max,f=Math.min,y=function(){return d.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==a.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var r=o.test(e);return r||i.test(e)?l(e.slice(2),r?2:8):s.test(e)?NaN:+e}e.exports=function(e,t,n){var s,o,i,l,r,c,d=0,a=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=s,i=o;return s=o=void 0,d=t,l=e.apply(i,n)}function v(e){return d=e,r=setTimeout(x,t),a?m(e):l}function w(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-d>=i}function x(){var e=y();if(w(e))return k(e);r=setTimeout(x,function(e){var n=t-(e-c);return p?f(n,i-(e-d)):n}(e))}function k(e){return r=void 0,h&&s?m(e):(s=o=void 0,l)}function _(){var e=y(),n=w(e);if(s=arguments,o=this,c=e,n){if(void 0===r)return v(c);if(p)return r=setTimeout(x,t),m(c)}return void 0===r&&(r=setTimeout(x,t)),l}return t=g(t)||0,b(n)&&(a=!!n.leading,i=(p="maxWait"in n)?u(g(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==r&&clearTimeout(r),d=0,s=c=o=r=void 0},_.flush=function(){return void 0===r?l:k(y())},_}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var s=n(1),o=n.n(s);const i={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>i.android()||i.blackberry()||i.ios()||i.opera()||i.windows()};var l=i;function r(){(function(e,t=document){return[...t.querySelectorAll(e)]})("[target='_blank']").forEach(e=>e.setAttribute("rel","noopener"))}const c='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',d=d3.select("body");function a(e,t,n){const s=e.classed("is-visible");t.attr("aria-expanded",!s),e.classed("is-active",!s),e.classed("is-visible",!s),d.classed("modal-open",!s),!0===n&&(s?t.html(()=>c):t.html(()=>'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'))}var u=n(0),f=n.n(u),y=function(e,t,n,s){return(e/=s/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(){var e=void 0,t=void 0,n=void 0,s=void 0,o=void 0,i=void 0,l=void 0,r=void 0,c=void 0,d=void 0,a=void 0,u=void 0;function f(){return window.scrollY||window.pageYOffset}function g(e){return e.getBoundingClientRect().top+t}function p(n){c||(c=n),a=o(d=n-c,t,l,r),window.scrollTo(0,a),d<r?window.requestAnimationFrame(p):function(){window.scrollTo(0,t+l),e&&i&&(e.setAttribute("tabindex","-1"),e.focus());"function"==typeof u&&u();c=!1}()}return function(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(r=d.duration||1e3,s=d.offset||0,u=d.callback,o=d.easing||y,i=d.a11y||!1,t=f(),void 0===c?"undefined":b(c)){case"number":e=void 0,i=!1,n=t+c;break;case"object":n=g(e=c);break;case"string":e=document.querySelector(c),n=g(e)}switch(l=n-t+s,b(d.duration)){case"number":r=d.duration;break;case"function":r=d.duration(l)}window.requestAnimationFrame(p)}}();var p={showTimer:function(){d3.select(".timer-container").transition().style("opacity",1)},hideTimer:function(){d3.select(".timer-container").transition().style("opacity",0)},resetTimer:function(){d3.select(".timer-container").select(".time").text("00:00:00")}};const h="#0D0F2A",m="#FFF9E2";function v(){d3.select(".lightbulb-off").classed("hidden",!0),d3.select(".lightbulb-on").classed("hidden",!1),d3.select(".timer-title").classed("white-text",!1),d3.select(".timer-labels").classed("white-text",!1)}function w(){d3.select(".lightbulb-off").classed("hidden",!1),d3.select(".lightbulb-on").classed("hidden",!0),d3.select(".timer-title").classed("white-text",!0),d3.select(".timer-labels").classed("white-text",!0)}var x={bulbOff:w,bulbOn:v,offIntroSlide:function(){console.log("offIntroSlide"),d3.select(".intro1").style("background-color",h).style("color","white"),d3.selectAll(".slide").style("background-color",h),w()},onIntroSlide:function(){console.log("onIntroSlide"),d3.select(".intro1").style("background-color",m),d3.selectAll(".slide").style("background-color",m),d3.select(".slide1").style("background-color",m),v()},offStart2020:function(){var e;console.log("offStart2020"),d3.select(".slide4").style("background-color",h),e="slide4",d3.select("."+e).selectAll("p").style("color","#0D0F2A"),w()},onStart2020:function(){var e;console.log("onStart2020"),d3.selectAll(".slide4").style("background-color",m),e="slide4",d3.select("."+e).selectAll("p").style("color","rgba(13,15,42,0.5)"),v()},offResetStart2020:function(){console.log("offResetStart2020"),d3.select(".slide-start-2020").style("background-color",h),d3.select(".slide4").style("background-color",h),d3.select(".slide5").select("p.story-large-text").style("color","white"),d3.select(".slide5").select("p.story-text").style("color","white"),w()},onWinning2020:function(){console.log("onWinning2020"),d3.select(".slide-start-2020").style("background-color",m),d3.select(".slide4").style("background-color",m),d3.select("p.win-2000s").style("color","#0F0E2C"),v()},offWinning2020:function(){console.log("offWinning2020"),d3.select(".slide-start-2020").style("background-color",h),d3.select(".slide4").style("background-color",h),w()},offStart1800:function(){d3.select(".slide-1800s-intro").style("background-color",h),d3.select(".slide-1800s-intro").select("p.story-text").style("color","white"),d3.select(".slide-start-2020").style("background-color",h),d3.select(".slide4").style("background-color",h),w()},onStart1800:function(){d3.select(".slide-1800s-intro").style("background-color",m),d3.select(".slide-start-2020").style("background-color",m),d3.select(".slide4").select(".story-text").style("color",m),d3.select(".slide4").style("background-color",m),v()},onWinning1800:function(){d3.select(".slides-container-1800s").style("background-color",m),d3.select(".win-1800s").style("background-color",m),d3.select(".win-1800s").select("p").style("color",h),v()},offWinning1800:function(){d3.select(".slides-container-1800s").style("background-color",h),d3.select(".win-1800s").style("background-color",h),w()},onStart2000bc:function(){d3.select(".slide-2000bc-intro").style("background-color",m),d3.select(".slides-container-1800s").style("background-color",m),d3.select(".slide-2000bc-intro").select("p.story-text").style("color",h),d3.select(".slide-start-2020").style("background-color",h),d3.select(".win-1800s").style("background-color",m),w()},offStart2000bc:function(){d3.select(".slide-2000bc-intro").style("background-color",h),d3.select(".slides-container-1800s").style("background-color",h),d3.select(".slide-2000bc-intro").select("p.story-text").style("color","white"),d3.select(".slide-start-2020").style("background-color",h),d3.select(".win-1800s").style("background-color",h),w()},onWinning2000bc:function(){d3.select(".slides-container-2000bc").style("background-color",m),d3.select(".slide-2000bc-final").style("background-color",m),d3.select(".slide-2000bc-final").select("p").style("color",h),v()},offWinning2000bc:function(){d3.select(".slides-container-2000bc").style("background-color",h),d3.select(".slide-2000bc-final").style("background-color",h),w()}};let k,_;const S=d3.select("html"),T=S.select('[data-step="slide5"]').select(".story-large-text"),A=S.select('[data-step="slide5"]').select(".story-text"),j=S.select(".win-2000s"),E=d3.select(".time");let O,W,M,F,P=!1,I=!1,L=!1,q=!1,D=!1,B=!1,R=!1,$=!1,C=!1,N=!0;function z(){W=document.documentElement.scrollTop||document.body.scrollTop,M=parseInt(W-O);return function(e){if(e>=0){return Math.floor(e/3600/10).toString()+Math.floor(e/3600%10).toString()+":"+Math.floor(e%3600/60/10).toString()+Math.floor(e%3600/60%10).toString()+":"+Math.floor(e%86400%3600%60/10).toString()+Math.floor(e%86400%3600%60%10).toString()}return"00:00:00"}(M)}function H(e){"begin-2000s"===F?(N=!0,N&&E.text(z()),M>=2?(x.onWinning2020(),I=!0,T.transition().style("opacity",0),A.transition().style("opacity",0),j.transition().style("opacity",1),document.removeEventListener("scroll",H),L=!0,P=!0):M<2&&P&&K()):"begin-1800s"===F?(N=!0,N&&E.text(z()),M<0&&(p.hideTimer(),p.resetTimer(),q=!1),M>2&&(q=!0)):"begin-2000bc"===F&&(N=!0,d3.select(".slide-2000bc-final").classed("hidden",!1),N&&E.text(z()),M<0&&(p.hideTimer(),p.resetTimer()),M>2&&($=!0)),function(e,t){"begin-2000s"===e&&t>=2||"begin-2000s"===e&&t<2&&K()}(F,M)}function K(){L=!1,x.offWinning2020(),T.transition().style("opacity",1),A.transition().style("opacity",1),j.transition().style("opacity",0)}function Y(e){document.addEventListener("scroll",H)}function G(){function e(e){"step18"===e?q&&(x.onWinning1800(),d3.select(".slide-2000bc-intro").style("display","flex"),x.onWinning1800(),document.removeEventListener("scroll",H),B=!0,d3.select(".slide-2000bc-intro").classed("hidden",!1),d3.select("slide-2000bc-intro").style("display","flex"),d3.select(".slides-container-2000bc").classed("hidden",!1),B=!0):"step39"===e&&$&&(x.onWinning2000bc(),C&&d3.select(".pudding-footer").style("display","block"))}function t(e){"step18"===e?q&&(d3.select(".slide-2000bc-intro").style("display","none"),x.offWinning1800(),x.offWinning1800(),d3.select(".slide-2000bc-intro").style("display","none"),d3.select(".slide-container-2000bc").style("display","none"),B=!1,document.addEventListener("scroll",H),d3.select(".slide-2000bc-intro").classed("hidden",!0),d3.select(".slides-container-2000bc").classed("hidden",!0)):"step39"===e&&(x.offWinning2000bc(),d3.select(".pudding-footer").style("display","none"))}f()({selector:".slide",enter(e){const t=d3.select(e).attr("data-step");"slide1"===t&&x.onIntroSlide()},exit(e){const t=d3.select(e).attr("data-step");var n;"slide1"===(n=t)&&(x.offIntroSlide(),p.hideTimer(),p.resetTimer(),S.classed("stop-scrolling",!1)),"slide5"===n&&x.on()},progress:function(e,t){d3.select(e).attr("data-step")},offset:.5,once:!1}),f()({selector:".slide-start-2020",enter(e){x.offStart2020()},exit(e){x.onStart2020()},progress:function(e,t){if(1===t){Promise.resolve().then(()=>{S.classed("stop-scrolling",!0)}).then(()=>{d3.select("#begin-2000s").style("visibility","visible")})}else I&&(L=!1,q=!1,B=!1,d3.select(".slide-1800s-intro").style("display","none"),d3.select(".slide-2000bc-intro").style("display","none"),d3.select(".slides-container-1800s").style("display","none"),d3.select(".slides-container-2000bc").style("display","none"),d3.select(".slide-2000bc-final").style("display","none"),x.offResetStart2020(),T.transition().style("opacity",1),A.transition().style("opacity",1),j.transition().style("opacity",0),d3.select(".slide4").select(".story-text").style("color","#0D0F2A"),p.hideTimer())},offset:0,once:!1}),f()({selector:".begin-screen",enter(e){const t=d3.select(e).attr("data-step");var n;"slide6"===(n=t)?(L&&(q=!1,x.offStart1800(),d3.select(".slides-container-1800s").style("display","none")),d3.select(".slide-1800s-intro").style("background-color","#0D0F2A"),d3.select(".slide-start-2020").style("background-color","#0D0F2A"),x.bulbOff()):"slide19"===n&&B&&x.offStart2000bc()},exit(e){const t=d3.select(e).attr("data-step");var n;"slide6"===(n=t)?(q=!1,x.onStart1800(),d3.select(".slides-container-1800s").style("display","none"),d3.select(".slide-2000bc-intro").style("display","none")):"slide19"===n&&(x.onStart2000bc(),x.bulbOn(),B=!0,$=!1)},progress:function(e,t){!function(e,t){if("slide6"===e)if(t>=.595&&L){Promise.resolve().then(()=>{S.classed("stop-scrolling",!0)}).then(()=>{d3.select("#begin-1800s").style("visibility","visible"),D=!0,L=!1})}else t<.595&&D&&(d3.select(".slides-container-1800s").style("display","none"),D=!1,q=!1,L=!0,p.hideTimer());else if("slide19"===e)if(t>=.595&&B){Promise.resolve().then(()=>{d3.select(".slide-2000bc-final").classed("hidden",!0),S.classed("stop-scrolling",!0)}).then(()=>{d3.select("#begin-2000bc").style("visibility","visible"),C=!0,R=!0,B=!1})}else t<.595&&R&&(d3.select(".slides-container-2000bc").style("display","none"),d3.select(".slide-2000bc-final").style("display","none"),C=!1,R=!1,$=!1,B=!0,p.hideTimer(),p.hideTimer())}(d3.select(e).attr("data-step"),t)},offset:.4,once:!1}),f()({selector:".win-screen",enter(t){e(d3.select(t).attr("data-step"))},exit(e){t(d3.select(e).attr("data-step"))},progress:function(e,t){},offset:0,once:!1}),f()({selector:"footer",enter(e){p.hideTimer()},exit(e){p.showTimer()},progress:function(e,t){},offset:.05,once:!1})}function J(){var e;k=window.innerHeight,_=window.innerWidth,d3.select(".lightbulb-container").style("height",k+"px"),d3.select(".chain-background").style("height",""+(e=_,e<=200?"47%":e>200&&e<=350?"45.5%":e>350&&e<=450?"44.5%":e>450&&e<=550?"43%":e>550&&e<=650?"42%":e>650&&e<=750?"41%":e>750&&e<=850?"39.5%":e>850&&e<=950?"38%":e>950&&e<=1050?"36.5%":e>1050&&e<=1150?"35%":e>1150&&e<=1250?"33.5%":e>1200&&e<=1350?"32%":e>1350&&e<=1450?"30.5%":e>1450&&e<=1550?"29%":e>1550&&e<=1650?"27.5%":e>1650&&e<=1750?"26%":e>1750&&e<=1850||e>1750&&e<=1850?"24.5%":void 0)).style("background-color","white"),d3.select(".lightbulb-off").select("img").style("height",k+"px"),d3.select(".lightbulb-on").select("img").style("height",k+"px"),d3.select(".intro1").style("height",k+"px"),d3.selectAll(".slide").style("height",k+"px"),d3.selectAll(".slide-pre").style("height",k+"px"),d3.selectAll(".slide-1800s-intro").style("height",k+"px"),d3.selectAll(".slide-1800s").style("height",k+"px"),d3.selectAll(".win-1800s").style("height",k+"px"),d3.selectAll(".slide-2000bc-intro").style("height",k+"px"),d3.selectAll(".slide-2000bc").style("height",k+"px"),d3.selectAll(".slide-2000bc-final").style("height",k+"px")}var U={init:function(){Promise.resolve().then(()=>{J(),x.bulbOff()}).then(()=>{G()}).then(()=>{var e;e=p,d3.selectAll(".button-begin").on("click",(function(){F=this.id,"begin-2000s"===F?(e.resetTimer(),e.showTimer(),d3.select(this).style("visibility","hidden"),d3.select(".slide-1800s-intro").style("display","flex").classed("hidden",!1),S.classed("stop-scrolling",!1),O=document.documentElement.scrollTop||document.body.scrollTop,Y()):"begin-1800s"===F?(q=!1,D=!0,e.resetTimer(),e.showTimer(),d3.select(this).style("visibility","hidden"),S.classed("stop-scrolling",!1),d3.selectAll(".slide-1800s").style("display","flex").classed("hidden",!1),S.classed("stop-scrolling",!1),O=document.documentElement.scrollTop||document.body.scrollTop,Y(),d3.select(".slides-container-1800s").style("display","flex").style("height","21600px").classed("hidden",!1)):"begin-2000bc"===F&&(d3.select(".slide-2000bc-final").style("display","flex"),R=!0,$=!1,e.resetTimer(),e.showTimer(),d3.select(this).style("visibility","hidden"),x.offStart2000bc(),S.classed("stop-scrolling",!1),d3.selectAll(".slide-2000bc").style("display","flex").classed("hidden",!1),S.classed("stop-scrolling",!1),O=document.documentElement.scrollTop||document.body.scrollTop,Y(),d3.select(".slides-container-2000bc").style("display","flex").style("height","205200px").classed("hidden",!1))})),d3.select(".button-scroll-shortcut").on("click",()=>{d3.select(".slide-2000bc-final").classed("hidden",!1),C=!0,g(".slide-2000bc-final",{duration:5e3,offset:.5})})}).then(()=>{x.offIntroSlide()})},resize:J};const X=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâ€™s Pockets are Inferior"}];let Q=null;function V(e){return`\n\t<a class='footer-recirc__article' href='https://pudding.cool/${e.url}' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${e.image}.jpg' alt='${e.hed}'>\n\t\t<p class='article__headline'>${e.hed}</p>\n\t</a>\n\t`}var Z={init:function(){!function(e){const t=new XMLHttpRequest,n="https://pudding.cool/assets/data/stories.json?v="+Date.now();t.open("GET",n,!0),t.onload=()=>{if(t.status>=200&&t.status<400){const n=JSON.parse(t.responseText);e(n)}else e(X)},t.onerror=()=>e(X),t.send()}(e=>{Q=e,function(){const e=window.location.href,t=Q.filter(t=>!e.includes(t.url)).slice(0,4).map(V).join("");d3.select(".pudding-footer .footer-recirc__articles").html(t)}()})}};const ee=d3.select("body");let te=0;function ne(){const e=ee.node().offsetWidth;te!==e&&(te=e,U.resize())}function se(){const e=ee.select("header");if(e.classed("is-sticky")){const t=ee.select("#slide__menu"),n=ee.select(".header__toggle");!function(e,t,n,s,o,i){const l=n.selectAll(o).nodes(),r=l[0],d=l[l.length-1];e.on("click",()=>a(s,e,i)),t.on("click",()=>a(s,t,i)),n.on("keydown",t=>{const n=t.code,o=s.classed("is-visible");"Escape"===n&&!0===o&&(e.attr("aria-expanded",!1),e.node().focus(),s.classed("is-active",!1),s.classed("is-visible",!1),!0===i&&e.html(()=>c))}),d3.select(r).on("keydown",e=>{if(s.classed("is-visible")){const t=e.code,n=e.shiftKey;"Tab"===t&&!0===n&&(e.preventDefault(),d.focus())}}),d3.select(d).on("keydown",e=>{if(s.classed("is-visible")){const t=e.code,n=e.shiftKey;"Tab"===t&&!1===n&&(e.preventDefault(),r.focus())}})}(n,n,e,t,"a, button, .logo",!0)}}r(),ee.classed("is-mobile",l.any()),window.addEventListener("resize",o()(ne,150)),se(),U.init(),Z.init()}]);