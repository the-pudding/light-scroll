!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var o,s;void 0===(s="function"==typeof(o=function(){return function(e){function t(){var e=document.documentElement.clientHeight,t=window.innerHeight||0;k=Math.max(e,t)}function n(){w=!1;var e=function(){if(p&&"number"==typeof p){var e=Math.min(Math.max(0,p),1);return k-e*k}return k}();(x=x.filter((function(t){var n=t.getBoundingClientRect(),o=n.top,s=n.bottom,l=n.height,i=o<e,c=s<e;if(i&&!t.__ev_entered){if(a(t),t.__ev_progress=0,g(t,t.__ev_progress),m)return!1}else!i&&t.__ev_entered&&(t.__ev_progress=0,g(t,t.__ev_progress),f(t));if(i&&!c){var r=(e-o)/l;t.__ev_progress=Math.min(1,Math.max(0,r)),g(t,t.__ev_progress)}return i&&c&&1!==t.__ev_progress&&(t.__ev_progress=1,g(t,t.__ev_progress)),t.__ev_entered=i,!0}))).length||window.removeEventListener("scroll",o,!0)}function o(){w||(w=!0,v(n))}function s(){t(),n()}function l(){t(),n()}function i(e){for(var t=e.length,n=[],o=0;o<t;o+=1)n.push(e[o]);return n}function c(){x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?i(t.querySelectorAll(e)):e instanceof NodeList?i(e):e instanceof Array?e:void 0}(r)}var r=e.selector,d=e.enter,a=void 0===d?function(){}:d,u=e.exit,f=void 0===u?function(){}:u,y=e.progress,g=void 0===y?function(){}:y,b=e.offset,p=void 0===b?0:b,h=e.once,m=void 0!==h&&h,v=null,w=!1,x=[],k=0;r?(c(),x&&x.length?(v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},window.addEventListener("resize",s,!0),window.addEventListener("scroll",o,!0),window.addEventListener("load",l,!0),s(),n()):console.error("no selector elements found")):console.error("must pass a selector")}})?o.call(t,n,t,e):o)||(e.exports=s)},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,i=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,d=c||r||Function("return this")(),a=Object.prototype.toString,u=Math.max,f=Math.min,y=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==a.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var c=s.test(e);return c||l.test(e)?i(e.slice(2),c?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var o,s,l,i,c,r,d=0,a=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=o,l=s;return o=s=void 0,d=t,i=e.apply(l,n)}function v(e){return d=e,c=setTimeout(x,t),a?m(e):i}function w(e){var n=e-r;return void 0===r||n>=t||n<0||p&&e-d>=l}function x(){var e=y();if(w(e))return k(e);c=setTimeout(x,function(e){var n=t-(e-r);return p?f(n,l-(e-d)):n}(e))}function k(e){return c=void 0,h&&o?m(e):(o=s=void 0,i)}function _(){var e=y(),n=w(e);if(o=arguments,s=this,r=e,n){if(void 0===c)return v(r);if(p)return c=setTimeout(x,t),m(r)}return void 0===c&&(c=setTimeout(x,t)),i}return t=b(t)||0,g(n)&&(a=!!n.leading,l=(p="maxWait"in n)?u(b(n.maxWait)||0,t):l,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==c&&clearTimeout(c),d=0,o=r=s=c=void 0},_.flush=function(){return void 0===c?i:k(y())},_}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var o=n(1),s=n.n(o);const l={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>l.android()||l.blackberry()||l.ios()||l.opera()||l.windows()};var i=l;function c(){(function(e,t=document){return[...t.querySelectorAll(e)]})("[target='_blank']").forEach(e=>e.setAttribute("rel","noopener"))}const r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',d=d3.select("body");function a(e,t,n){const o=e.classed("is-visible");t.attr("aria-expanded",!o),e.classed("is-active",!o),e.classed("is-visible",!o),d.classed("modal-open",!o),!0===n&&(o?t.html(()=>r):t.html(()=>'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'))}var u=n(0),f=n.n(u),y=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=function(){var e=void 0,t=void 0,n=void 0,o=void 0,s=void 0,l=void 0,i=void 0,c=void 0,r=void 0,d=void 0,a=void 0,u=void 0;function f(){return window.scrollY||window.pageYOffset}function b(e){return e.getBoundingClientRect().top+t}function p(n){r||(r=n),a=s(d=n-r,t,i,c),window.scrollTo(0,a),d<c?window.requestAnimationFrame(p):function(){window.scrollTo(0,t+i),e&&l&&(e.setAttribute("tabindex","-1"),e.focus());"function"==typeof u&&u();r=!1}()}return function(r){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(c=d.duration||1e3,o=d.offset||0,u=d.callback,s=d.easing||y,l=d.a11y||!1,t=f(),void 0===r?"undefined":g(r)){case"number":e=void 0,l=!1,n=t+r;break;case"object":n=b(e=r);break;case"string":e=document.querySelector(r),n=b(e)}switch(i=n-t+o,g(d.duration)){case"number":c=d.duration;break;case"function":c=d.duration(i)}window.requestAnimationFrame(p)}}();var p={showTimer:function(){d3.select(".timer-container").transition().style("opacity",1)},hideTimer:function(){d3.select(".timer-container").transition().style("opacity",0)},resetTimer:function(){d3.select(".timer-container").select(".time").text("00:00:00")}};const h="#0D0F2A",m="#FFF9E2";function v(){d3.select(".lightbulb-off").classed("hidden",!0),d3.select(".lightbulb-on").classed("hidden",!1),d3.select(".timer-title").classed("white-text",!1),d3.select(".timer-labels").classed("white-text",!1)}function w(){d3.select(".lightbulb-off").classed("hidden",!1),d3.select(".lightbulb-on").classed("hidden",!0),d3.select(".timer-title").classed("white-text",!0),d3.select(".timer-labels").classed("white-text",!0)}var x={bulbOff:w,bulbOn:v,offIntroSlide:function(){console.log("offIntroSlide"),d3.select(".intro1").style("background-color",h).style("color","white"),d3.selectAll(".slide").style("background-color",h),w()},onIntroSlide:function(){console.log("onIntroSlide"),d3.select(".intro1").style("background-color",m),d3.selectAll(".slide").style("background-color",m),d3.select(".slide1").style("background-color",m),v()},offStart2020:function(){var e;console.log("offStart2020"),d3.select(".slide4").style("background-color",h),e="slide4",d3.select("."+e).selectAll("p").style("color","#0D0F2A"),w()},onStart2020:function(){var e;console.log("onStart2020"),d3.selectAll(".slide4").style("background-color",m),e="slide4",d3.select("."+e).selectAll("p").style("color","rgba(13,15,42,0.5)"),v()},offResetStart2020:function(){console.log("offResetStart2020"),d3.select(".slide-start-2020").style("background-color",h),d3.select(".slide4").style("background-color",h),d3.select(".slide5").select("p.story-large-text").style("color","white"),d3.select(".slide5").select("p.story-text").style("color","white"),w()},onWinning2020:function(){console.log("onWinning2020"),d3.select(".slide-start-2020").style("background-color",m),d3.select(".slide4").style("background-color",m),d3.select("p.win-2000s").style("color","#0F0E2C"),v()},offWinning2020:function(){console.log("offWinning2020"),d3.select(".slide-start-2020").style("background-color",h),d3.select(".slide4").style("background-color",h),w()},offStart1800:function(){console.log("offStart1800"),d3.select(".slide-1800s-intro").style("background-color",h),d3.select(".slide-1800s-intro").select("p.story-text").style("color","white"),d3.select(".slide-start-2020").style("background-color",h),d3.select(".slide4").style("background-color",h),w()},onStart1800:function(){console.log("onStart1800"),d3.select(".slide-1800s-intro").style("background-color",m),d3.select(".slide-start-2020").style("background-color",m),d3.select(".slide4").select(".story-text").style("color",m),d3.select(".slide4").style("background-color",m),v()},onWinning1800:function(){console.log("onWinning1800"),d3.select(".slides-container-1800s").style("background-color",m),d3.select(".win-1800s").style("background-color",m),d3.select(".win-1800s").select("p").style("color",h),v()},offWinning1800:function(){console.log("offWinning1800"),d3.select(".slides-container-1800s").style("background-color",h),d3.select(".win-1800s").style("background-color",h),w()},onStart2000bc:function(){console.log("onStart2000bc"),d3.select(".slide-2000bc-intro").style("background-color",m),d3.select(".slides-container-1800s").style("background-color",m),d3.select(".slide-2000bc-intro").select("p.story-text").style("color",h),d3.select(".slide-start-2020").style("background-color",h),d3.select(".win-1800s").style("background-color",m),w()},offStart2000bc:function(){console.log("offStart2000bc"),d3.select(".slide-2000bc-intro").style("background-color",h),d3.select(".slides-container-1800s").style("background-color",h),d3.select(".slide-2000bc-intro").select("p.story-text").style("color","white"),d3.select(".slide-start-2020").style("background-color",h),d3.select(".win-1800s").style("background-color",h),w()},onWinning2000bc:function(){console.log("onWinning2000bc"),d3.select(".slides-container-2000bc").style("background-color",m),d3.select(".slide-2000bc-final").style("background-color",m),d3.select(".slide-2000bc-final").select("p").style("color",h),v()},offWinning2000bc:function(){console.log("offWinning2000bc"),d3.select(".slides-container-2000bc").style("background-color",h),d3.select(".slide-2000bc-final").style("background-color",h),w()}};let k,_;const S=d3.select("html"),T=S.select('[data-step="slide5"]').select(".story-large-text"),A=S.select('[data-step="slide5"]').select(".story-text"),W=S.select(".win-2000s"),j=d3.select(".time");let E,O,M,F,P=!1,I=!1,L=!1,q=!1,D=!1,B=!1,R=!1,$=!1,C=!1,N=!0;function z(){O=document.documentElement.scrollTop||document.body.scrollTop,M=parseInt(O-E);return function(e){if(e>=0){return Math.floor(e/3600/10).toString()+Math.floor(e/3600%10).toString()+":"+Math.floor(e%3600/60/10).toString()+Math.floor(e%3600/60%10).toString()+":"+Math.floor(e%86400%3600%60/10).toString()+Math.floor(e%86400%3600%60%10).toString()}return"00:00:00"}(M)}function H(e){"begin-2000s"===F?(N=!0,N&&j.text(z()),M>=2?(x.onWinning2020(),I=!0,T.transition().style("opacity",0),A.transition().style("opacity",0),W.transition().style("opacity",1),document.removeEventListener("scroll",H),L=!0,P=!0):M<2&&P&&(console.log("from scroll"),K())):"begin-1800s"===F?(N=!0,N&&j.text(z()),M<0&&(p.hideTimer(),p.resetTimer(),q=!1),M>2&&(q=!0)):"begin-2000bc"===F&&(console.log(M),N=!0,d3.select(".slide-2000bc-final").classed("hidden",!1),N&&j.text(z()),M<0&&(p.hideTimer(),p.resetTimer()),M>2&&($=!0)),function(e,t){"begin-2000s"===e&&t>=2||"begin-2000s"===e&&t<2&&K()}(F,M)}function K(){L=!1,x.offWinning2020(),T.transition().style("opacity",1),A.transition().style("opacity",1),W.transition().style("opacity",0)}function U(e){document.addEventListener("scroll",H)}function Y(){function e(e){"step18"===e?q&&(console.log("running enter step18"),x.onWinning1800(),d3.select(".slide-2000bc-intro").style("display","flex"),x.onWinning1800(),document.removeEventListener("scroll",H),B=!0,d3.select(".slide-2000bc-intro").classed("hidden",!1),d3.select("slide-2000bc-intro").style("display","flex"),d3.select(".slides-container-2000bc").classed("hidden",!1),B=!0):"step39"===e&&$&&(x.onWinning2000bc(),C&&d3.select(".pudding-footer").style("display","block"))}function t(e){"step18"===e?q&&(console.log("running exit step18"),d3.select(".slide-2000bc-intro").style("display","none"),x.offWinning1800(),x.offWinning1800(),d3.select(".slide-2000bc-intro").style("display","none"),d3.select(".slide-container-2000bc").style("display","none"),B=!1,document.addEventListener("scroll",H),d3.select(".slide-2000bc-intro").classed("hidden",!0),d3.select(".slides-container-2000bc").classed("hidden",!0),console.log("hiding 2000 bc")):"step39"===e&&(x.offWinning2000bc(),d3.select(".pudding-footer").style("display","none"))}f()({selector:".slide",enter(e){const t=d3.select(e).attr("data-step");console.log("enter: "+t),"slide1"===t&&x.onIntroSlide()},exit(e){const t=d3.select(e).attr("data-step");var n;console.log("exit: "+t),"slide1"===(n=t)&&(x.offIntroSlide(),p.hideTimer(),p.resetTimer(),S.classed("stop-scrolling",!1)),"slide5"===n&&x.on()},progress:function(e,t){d3.select(e).attr("data-step")},offset:.5,once:!1}),f()({selector:".slide-start-2020",enter(e){x.offStart2020()},exit(e){x.onStart2020()},progress:function(e,t){if(console.log(t),1===t){Promise.resolve().then(()=>{S.classed("stop-scrolling",!0)}).then(()=>{d3.select("#begin-2000s").style("visibility","visible")})}else I&&(L=!1,q=!1,B=!1,d3.select(".slide-1800s-intro").style("display","none"),d3.select(".slide-2000bc-intro").style("display","none"),d3.select(".slides-container-1800s").style("display","none"),d3.select(".slides-container-2000bc").style("display","none"),d3.select(".slide-2000bc-final").style("display","none"),x.offResetStart2020(),T.transition().style("opacity",1),A.transition().style("opacity",1),W.transition().style("opacity",0),d3.select(".slide4").select(".story-text").style("color","#0D0F2A"),p.hideTimer())},offset:0,once:!1}),f()({selector:".begin-screen",enter(e){console.log("begin-screen enter");const t=d3.select(e).attr("data-step");var n;console.log(t),"slide6"===(n=t)?(L&&(q=!1,x.offStart1800(),d3.select(".slides-container-1800s").style("display","none")),d3.select(".slide-1800s-intro").style("background-color","#0D0F2A"),d3.select(".slide-start-2020").style("background-color","#0D0F2A"),x.bulbOff()):"slide19"===n&&B&&x.offStart2000bc()},exit(e){console.log("begin-screen exit");const t=d3.select(e).attr("data-step");var n;console.log(t),"slide6"===(n=t)?(q=!1,x.onStart1800(),d3.select(".slides-container-1800s").style("display","none"),d3.select(".slide-2000bc-intro").style("display","none")):"slide19"===n&&(x.onStart2000bc(),x.bulbOn(),B=!0,$=!1)},progress:function(e,t){!function(e,t){if("slide6"===e)if(t>=.595&&L){Promise.resolve().then(()=>{S.classed("stop-scrolling",!0)}).then(()=>{d3.select("#begin-1800s").style("visibility","visible"),D=!0,L=!1})}else t<.595&&D&&(d3.select(".slides-container-1800s").style("display","none"),D=!1,q=!1,L=!0,p.hideTimer());else if("slide19"===e)if(t>=.595&&B){Promise.resolve().then(()=>{d3.select(".slide-2000bc-final").classed("hidden",!0),S.classed("stop-scrolling",!0)}).then(()=>{d3.select("#begin-2000bc").style("visibility","visible"),C=!0,R=!0,B=!1})}else t<.595&&R&&(d3.select(".slides-container-2000bc").style("display","none"),d3.select(".slide-2000bc-final").style("display","none"),C=!1,R=!1,$=!1,B=!0,p.hideTimer(),p.hideTimer())}(d3.select(e).attr("data-step"),t)},offset:.4,once:!1}),f()({selector:".win-screen",enter(t){console.log("win-screen enter"),console.log(t);const n=d3.select(t).attr("data-step");e(n),console.log(n),console.log("allowTimerUpdate: "+N)},exit(e){console.log("win-screen exit"),console.log(e);t(d3.select(e).attr("data-step"))},progress:function(e,t){},offset:0,once:!1}),f()({selector:"footer",enter(e){p.hideTimer()},exit(e){p.showTimer()},progress:function(e,t){},offset:.05,once:!1})}function G(){var e;k=window.innerHeight,_=window.innerWidth,d3.select(".lightbulb-container").style("height",k+"px"),d3.select(".chain-background").style("height",""+(e=_,e<=200?"47%":e>200&&e<=350?"45.5%":e>350&&e<=450?"44.5%":e>450&&e<=550?"43%":e>550&&e<=650?"42%":e>650&&e<=750?"41%":e>750&&e<=850?"39.5%":e>850&&e<=950?"38%":e>950&&e<=1050?"36.5%":e>1050&&e<=1150?"35%":e>1150&&e<=1250?"33.5%":e>1200&&e<=1350?"32%":e>1350&&e<=1450?"30.5%":e>1450&&e<=1550?"29%":e>1550&&e<=1650?"27.5%":e>1650&&e<=1750?"26%":e>1750&&e<=1850||e>1750&&e<=1850?"24.5%":void 0)).style("background-color","white"),d3.select(".lightbulb-off").select("img").style("height",k+"px"),d3.select(".lightbulb-on").select("img").style("height",k+"px"),d3.select(".intro1").style("height",k+"px"),d3.selectAll(".slide").style("height",k+"px"),d3.selectAll(".slide-pre").style("height",k+"px"),d3.selectAll(".slide-1800s-intro").style("height",k+"px"),d3.selectAll(".slide-1800s").style("height",k+"px"),d3.selectAll(".win-1800s").style("height",k+"px"),d3.selectAll(".slide-2000bc-intro").style("height",k+"px"),d3.selectAll(".slide-2000bc").style("height",k+"px"),d3.selectAll(".slide-2000bc-final").style("height",k+"px")}var J={init:function(){Promise.resolve().then(()=>{G(),x.bulbOff()}).then(()=>{Y()}).then(()=>{var e;e=p,d3.selectAll(".button-begin").on("click",(function(){F=this.id,"begin-2000s"===F?(e.resetTimer(),e.showTimer(),d3.select(this).style("visibility","hidden"),d3.select(".slide-1800s-intro").style("display","flex").classed("hidden",!1),S.classed("stop-scrolling",!1),E=document.documentElement.scrollTop||document.body.scrollTop,U()):"begin-1800s"===F?(q=!1,D=!0,e.resetTimer(),e.showTimer(),d3.select(this).style("visibility","hidden"),S.classed("stop-scrolling",!1),d3.selectAll(".slide-1800s").style("display","flex").classed("hidden",!1),S.classed("stop-scrolling",!1),E=document.documentElement.scrollTop||document.body.scrollTop,U(),d3.select(".slides-container-1800s").style("display","flex").style("height","21600px").classed("hidden",!1)):"begin-2000bc"===F&&(d3.select(".slide-2000bc-final").style("display","flex"),R=!0,$=!1,e.resetTimer(),e.showTimer(),d3.select(this).style("visibility","hidden"),x.offStart2000bc(),S.classed("stop-scrolling",!1),d3.selectAll(".slide-2000bc").style("display","flex").classed("hidden",!1),S.classed("stop-scrolling",!1),E=document.documentElement.scrollTop||document.body.scrollTop,U(),d3.select(".slides-container-2000bc").style("display","flex").style("height","205200px").classed("hidden",!1))})),d3.select(".button-scroll-shortcut").on("click",()=>{d3.select(".slide-2000bc-final").classed("hidden",!1),C=!0,b(".slide-2000bc-final",{duration:5e3,offset:.5})})}).then(()=>{x.offIntroSlide()})},resize:G};const X=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâ€™s Pockets are Inferior"}];let Q=null;function V(e){return`\n\t<a class='footer-recirc__article' href='https://pudding.cool/${e.url}' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${e.image}.jpg' alt='${e.hed}'>\n\t\t<p class='article__headline'>${e.hed}</p>\n\t</a>\n\t`}var Z={init:function(){!function(e){const t=new XMLHttpRequest,n="https://pudding.cool/assets/data/stories.json?v="+Date.now();t.open("GET",n,!0),t.onload=()=>{if(t.status>=200&&t.status<400){const n=JSON.parse(t.responseText);e(n)}else e(X)},t.onerror=()=>e(X),t.send()}(e=>{Q=e,function(){const e=window.location.href,t=Q.filter(t=>!e.includes(t.url)).slice(0,4).map(V).join("");d3.select(".pudding-footer .footer-recirc__articles").html(t)}()})}};const ee=d3.select("body");let te=0;function ne(){const e=ee.node().offsetWidth;te!==e&&(te=e,J.resize())}function oe(){const e=ee.select("header");if(e.classed("is-sticky")){const t=ee.select("#slide__menu"),n=ee.select(".header__toggle");!function(e,t,n,o,s,l){const i=n.selectAll(s).nodes(),c=i[0],d=i[i.length-1];e.on("click",()=>a(o,e,l)),t.on("click",()=>a(o,t,l)),n.on("keydown",t=>{const n=t.code,s=o.classed("is-visible");"Escape"===n&&!0===s&&(e.attr("aria-expanded",!1),e.node().focus(),o.classed("is-active",!1),o.classed("is-visible",!1),!0===l&&e.html(()=>r))}),d3.select(c).on("keydown",e=>{if(o.classed("is-visible")){const t=e.code,n=e.shiftKey;"Tab"===t&&!0===n&&(e.preventDefault(),d.focus())}}),d3.select(d).on("keydown",e=>{if(o.classed("is-visible")){const t=e.code,n=e.shiftKey;"Tab"===t&&!1===n&&(e.preventDefault(),c.focus())}})}(n,n,e,t,"a, button, .logo",!0)}}c(),ee.classed("is-mobile",i.any()),window.addEventListener("resize",s()(ne,150)),oe(),J.init(),Z.init()}]);